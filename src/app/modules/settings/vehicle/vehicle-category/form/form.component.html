<div class="space-y-2 p-2 min-w-[480px]" #dialogRef *transloco="let t;">
  <div>
    <h2 mat-dialog-title>
      @if (mode === 'create') {
        {{ t('entities.vehicle-category.form.create.title') }}
      } @else if (mode === 'edit') {
        {{ t('entities.vehicle-category.form.edit.title') }}
      } @else {
        {{ t('entities.vehicle-category.form.view.title') }}
      }
    </h2>
  </div>
  <mat-divider></mat-divider>

  <mat-dialog-content class="py-4">
    <form [formGroup]="formGroup" class="space-y-4">

      <div class="flex flex-col gap-6">

        <mat-form-field class="w-full" appearance="outline">
          <mat-label>{{ t('entities.vehicle-category.fields.name') }}</mat-label>
          <input matInput formControlName="name" required>
          <mat-error *ngIf="formGroup.get('name')?.hasError('required')">
            {{ t('form.errors.required') }}
          </mat-error>
        </mat-form-field>

        <mat-checkbox formControlName="withTrailer">
          {{ t('entities.vehicle-category.fields.withTrailer') }}
        </mat-checkbox>

        <mat-checkbox formControlName="withChassis">
          {{ t('entities.vehicle-category.fields.withChassis') }}
        </mat-checkbox>

        <mat-form-field class="w-full" appearance="outline">
          <mat-label>{{ t('entities.select-field-options.fields.products') }}</mat-label>
          <mat-select formControlName="products" multiple>
            <mat-option *ngFor="let product of products" [value]="product.id">
              {{ product.name }}
            </mat-option>
          </mat-select>
          <mat-error *ngIf="formGroup.get('products')?.hasError('required')">
            {{ t('form.errors.required') }}
          </mat-error>
        </mat-form-field>

        <mat-form-field class="w-full" appearance="outline">
          <mat-label>{{ t('entities.select-field-options.fields.usages') }}</mat-label>
          <mat-select formControlName="usages" multiple>
            <mat-option *ngFor="let usage of usages" [value]="usage.id">
              {{ usage.name }}
            </mat-option>
          </mat-select>
          <mat-error *ngIf="formGroup.get('usages')?.hasError('required')">
            {{ t('form.errors.required') }}
          </mat-error>
        </mat-form-field>

      </div>
    </form>
  </mat-dialog-content>

  <mat-dialog-actions class="flex justify-end space-x-2 pt-4">
    <button mat-button mat-flat-button color="basic" (click)="onCancel()">
      {{ t('form.actions.cancel') }}
    </button>
    <button mat-button mat-flat-button color="primary" [disabled]="formGroup.invalid || formGroup.disabled"
            (click)="onSubmit()">
      {{ t('form.actions.save') }}
    </button>
  </mat-dialog-actions>
</div>
