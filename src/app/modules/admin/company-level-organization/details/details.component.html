<div class="p-4 space-y-4" *transloco="let t;">
    <div class="flex justify-between items-center">
        <h2 class="text-xl font-semibold">
            {{ t('entities.company_level_organization.table.list_points_of_sale') || 'Points de vente associ√©s' }}
        </h2>
        <button mat-flat-button color="primary" (click)="onAddPointOfSale()">
            {{ t('form.actions.add') || 'Ajouter' }}
        </button>
    </div>

    <mat-progress-bar *ngIf="loading" mode="indeterminate"></mat-progress-bar>

    <div *ngIf="!loading && pointsOfSale.length > 0">
        <table mat-table [dataSource]="pointsOfSale" class="w-full bg-white rounded-md" matSort>

            <!-- Nom -->
            <ng-container matColumnDef="name">
                <th mat-header-cell *matHeaderCellDef> {{ t('entities.point_of_sale.fields.name') }} </th>
                <td mat-cell *matCellDef="let pos"> {{ pos.name }} </td>
            </ng-container>

            <!-- Type -->
            <ng-container matColumnDef="type">
            <th mat-header-cell *matHeaderCellDef> {{ t('entities.point_of_sale.fields.type') }} </th>
            <td mat-cell *matCellDef="let pos">
                {{ t('entities.point_of_sale.options.type.' + pos.typePointOfSale) }}
            </td>
            </ng-container>


            <!-- Actions -->
            <ng-container matColumnDef="actions">
                <th mat-header-cell *matHeaderCellDef> {{ t('form.actions.delete') }} </th>
                <td mat-cell *matCellDef="let pos">
                    <button mat-icon-button color="primary" (click)="onDelete(pos)" matTooltip="{{ t('form.actions.delete') }}">
                        <mat-icon>delete</mat-icon>
                    </button>
                </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="['name', 'type', 'actions']"></tr>
            <tr mat-row *matRowDef="let row; columns: ['name', 'type', 'actions']"></tr>
        </table>
    </div>

    <div *ngIf="!loading && pointsOfSale.length === 0" class="text-gray-500">
        {{ t('entities.point_of_sale.empty_state') || 'Aucun point de vente.' }}
    </div>
</div>
