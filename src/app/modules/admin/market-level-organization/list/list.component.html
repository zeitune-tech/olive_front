<div class=" w-full p-4" *transloco="let t;" tabindex="0">
    <div class="flex flex-col mb-6">
        <h1 class="text-2xl md:text-4xl font-bold py-4">
            {{ t('entities.market_level_organization.table.title') }}
        </h1>
        <!-- Description -->
        <p class="text-sm md:text-base text-gray-600">
            {{ t('entities.market_level_organization.table.description') }}
        </p>
    </div>

    <!-- Table -->
    <table [dataSource]="dataSource" class="w-full rounded-md bg-card" mat-table matSort>
    
        <!-- Image Column -->
        @let imageOptions = tableOptions.imageOptions;
        <ng-container matColumnDef="logo">
            <th *matHeaderCellDef mat-header-cell>
                {{ t(imageOptions?.label || 'Logo') }}
            </th>
            <td *matCellDef="let row" class=" pr-0 py-2" mat-cell>
                <img [src]="row[imageOptions?.property || 'defaultProperty']" [ngClass]="imageOptions?.cssClasses">
            </td>
        </ng-container>

        <!-- Text Columns -->
        @let columns = tableOptions.columns;
        <ng-container *ngFor="let column of columns; trackBy: trackByProperty">
            <ng-container *ngIf="column.type === 'text'" [matColumnDef]="column.property">
                <th *matHeaderCellDef class="uppercase" mat-header-cell mat-sort-header>{{ t(column.label) }}</th>
                <td *matCellDef="let row" [ngClass]="column.cssClasses" mat-cell>
                    {{ tableOptions.renderItem(row, column.property) }}
                </td>
            </ng-container>
        </ng-container>

        <!-- Action Column -->
        <ng-container matColumnDef="actions">
            <th mat-header-cell *matHeaderCellDef mat-sort-header class="uppercase text-center border-l">
                Actions
            </th>
            <td mat-cell *matCellDef="let element" class="border-l">
                <div class="w-full h-full flex items-center justify-around">
                    <button mat-icon-button color="accent" (click)="onView(element)" matTooltip="{{ t('action_button.view') }}">
                        <mat-icon>visibility</mat-icon> 
                    </button>
                </div>
            </td>
        </ng-container>

        <tr *matHeaderRowDef="visibleColumns" mat-header-row></tr>
        <tr *matRowDef="let row; columns: visibleColumns;"
            @fadeInBottom
            class="trans-ease-out cursor-pointer"
            mat-row>
        </tr>

        <!-- No Data Row -->
        <tr *matNoDataRow>
            <td [attr.colspan]="visibleColumns.length" class="text-center py-4">
                {{ t('entities.market_level_organization.table.table.no-data') }}
            </td>
        </tr>
    </table>

    @let pageSizeOptions = tableOptions.pageSizeOptions;
    @let pageSize = tableOptions.pageSize;
    <mat-paginator class="rounded-b-md border-t" [pageSizeOptions]="pageSizeOptions" [pageSize]="pageSize"></mat-paginator>


</div>


<!-- <drawer 
    *transloco="let t;"
    #drawer
    [opened]="drawerOpened "
    [position]="'right'"
    [mode]="'over'"
    class="w-full md:w-1/2 lg:w-1/3 xl:w-1/4"
    (closed)="selectedItem = null">
    <ng-template matDrawerHeader>
        <h2 class="text-lg font-semibold">
            {{ t('entities.market_level_organization.drawer.title') }}
        </h2>
    </ng-template>

    <ng-template matDrawerContent>
        <app-market-level-organization-details [data]="selectedItem" (close)="onClose()"></app-market-level-organization-details>
    </ng-template>

    <ng-template matDrawerFooter>
        <button mat-button (click)="onClose()">{{ t('action_button.close') }}</button>
    </ng-template>
</drawer> -->